# Удаленные библиотеки из requirements.txt

**Дата удаления**: 2026-02-02  
**Причина**: Приведение в соответствие с `implementation_hybrid.md`

---

## Список удаленных библиотек

### 1. openai>=1.0.0
**Причина удаления**: Проект использует **CometAPI** в качестве прокси для LLM и Whisper API, а не прямое подключение к OpenAI API.

**Где могла использоваться**: Прямые вызовы OpenAI API

**Замена**: 
- Для LLM: `aiohttp` для запросов к CometAPI
- Для Whisper: `aiohttp` для запросов к CometAPI Whisper endpoint

---

### 2. google-api-python-client
**Причина удаления**: Устаревшая синхронная библиотека для работы с Google APIs.

**Где могла использоваться**: Работа с Google Sheets

**Замена**: `gspread_asyncio>=1.4.0` — современная асинхронная библиотека для Google Sheets

---

### 3. langchain
### 4. langchain-openai
### 5. langchain-core

**Причина удаления**: Фреймворк LangChain не используется в архитектуре проекта.

**Где могли использоваться**: Сложные цепочки вызовов LLM, агенты, prompt templates

**Замена**: 
- Прямые HTTP-запросы к CometAPI через `aiohttp`
- Промпты хранятся как обычные строки в коде (см. `implementation_hybrid.md`, раздел 2.2.2)

**Обоснование**: 
- Архитектура проекта простая и не требует оркестрации LangChain
- Меньше зависимостей = меньше потенциальных проблем
- Полный контроль над промптами и запросами

---

### 6. SQLAlchemy==2.0.29
**Причина удаления**: ORM не используется в проекте.

**Где могла использоваться**: Работа с базой данных через модели ORM

**Замена**: `aiosqlite>=0.20.0` — прямые асинхронные SQL-запросы к SQLite

**Обоснование**:
- Проект использует простые CRUD операции без сложных связей
- SQLite — встроенная БД, не требующая ORM
- Меньше абстракций = более понятный код для начинающего разработчика (согласно GEMINI.md, п.16)

---

### 7. asyncpg==0.29.0
### 8. psycopg2-binary==2.9.9

**Причина удаления**: Проект использует **SQLite**, а не PostgreSQL.

**Где могли использоваться**: Подключение к PostgreSQL базе данных

**Замена**: `aiosqlite>=0.20.0` для работы с SQLite

**Обоснование**:
- Согласно `implementation_hybrid.md` (раздел 1.2, 2.4): используется SQLite как локальный буфер
- PostgreSQL не упоминается в архитектуре проекта
- SQLite проще в развертывании и достаточен для задач проекта

---

## Итого удалено: 8 библиотек

**Экономия**:
- Уменьшение размера виртуального окружения
- Уменьшение времени установки зависимостей
- Снижение риска конфликтов версий
- Упрощение понимания стека технологий

---

## Если понадобится вернуть

Копия удаленных зависимостей:

```txt
openai>=1.0.0
google-api-python-client
langchain
langchain-openai
langchain-core
SQLAlchemy==2.0.29
asyncpg==0.29.0
psycopg2-binary==2.9.9
```

**Восстановление**: Добавить нужные библиотеки обратно в `requirements.txt` и выполнить `pip install -r requirements.txt`
