# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: Telegram-–±–æ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤

## 1. –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê

**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Telegram-–±–æ—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–Ω—Ç–∏—Å–ø–∞–º–∞, –∞–Ω–∞–ª–∏–∑–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ—Å—Ç–∞–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

**–ü—Ä–æ–±–ª–µ–º–∞:** –í 30 –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–∞—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ö–∞–æ—Ç–∏—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ø–∞–º –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –†—É—á–Ω–æ–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:** –ë–æ—Ç —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤:

- –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ç–µ–∫—Å—Ç + –≥–æ–ª–æ—Å–æ–≤—ã–µ)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ LLM –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Å–ø–∞–º–∞/–Ω–µ–≥–∞—Ç–∏–≤–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω–æ–º—É —Å–ø–∏—Å–∫—É
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –æ –Ω–∞—Ä—É—à–µ–Ω–∏—è—Ö
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**

- Python 3.11+
- aiogram 3.x (Telegram Bot API)
- CometAPI (–ø—Ä–æ–∫—Å–∏ –¥–ª—è LLM, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞)
- gspread / google-auth (—Ä–∞–±–æ—Ç–∞ —Å Google Sheets)
- APScheduler (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)
- asyncio (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)

---

## 2. –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### 2.1. –ê–Ω—Ç–∏—Å–ø–∞–º-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–ø–∞–º–æ–º:**

- –†–µ–∫–ª–∞–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã, —Ç–æ–≤–∞—Ä—ã, —É—Å–ª—É–≥–∏)
- –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è –≤ –∞–¥—Ä–µ—Å —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è
- –¢–µ–º—ã –∏–∑ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ —Å–ø–∏—Å–∫–∞ (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Google Sheets)

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ –±–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã—Ö —á–∞—Ç–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —á–∞—Å–æ–≤
2. –ò—Å–∫–ª—é—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ whitelist
3. –§–æ—Ä–º–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π (–º–∞–∫—Å–∏–º—É–º 1000 —à—Ç—É–∫)
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –í–ï–°–¨ –ú–ê–°–°–ò–í –¶–ï–õ–ò–ö–û–ú –≤ CometAPI —Å –ø—Ä–æ–º–ø—Ç–æ–º –Ω–∞ –∞–Ω–∞–ª–∏–∑ —Å–ø–∞–º–∞
5. –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Google Sheets (–ª–∏—Å—Ç "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è")
7. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é (—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 1-2 —Å–µ–∫ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏)

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM:**

- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–µ—Å—å –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —Ü–µ–ª–∏–∫–æ–º
- –í –ø—Ä–æ–º–ø—Ç–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–µ–º—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑ Google Sheets
- LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏

### 2.2. –ê–Ω–∞–ª–∏–∑ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. –ü—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –±–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 —á–∞—Å–æ–≤
2. –°–∫–∞—á–∏–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –¥–ª–∏–Ω–µ)
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ CometAPI - OpenAI Whisper API –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
4. –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É
5. –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –≤ –æ–±—â–∏–π –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ —Å–ø–∞–º
6. –ï—Å–ª–∏ –≥–æ–ª–æ—Å–æ–≤–æ–µ –ø—Ä–∏–∑–Ω–∞–Ω–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º - —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∞–¥–º–∏–Ω–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º "–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞): [—Ç–µ–∫—Å—Ç]"

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**

- –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å–∫–∞—á–∞–ª—Å—è: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí retry 1 —Ä–∞–∑ ‚Üí –µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ, –ø—Ä–æ–ø—É—Å–∫ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ü–∏–∫–ª–∞
- –ï—Å–ª–∏ Whisper –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí retry 1 —Ä–∞–∑ ‚Üí –ø—Ä–æ–ø—É—Å–∫

### 2.3. –ö–æ–Ω—Ç—Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ (–≤ —Ç–æ—Ç –∂–µ —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è) –±–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–æ –≤—Å–µ—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã—Ö —á–∞—Ç–∞—Ö
2. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–∑ Google Sheets (–ª–∏—Å—Ç "–°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö")
3. –§–æ—Ä–º–∏—Ä—É–µ—Ç –¥–≤–∞ —Å–ø–∏—Å–∫–∞:
    - **–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ**: –ª—é–¥–∏ –∏–∑ —Å–ø–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —á–∞—Ç–µ (–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–≤—è–∑–∫–µ –∫ —á–∞—Ç—É)
    - **–õ–∏—à–Ω–∏–µ**: –ª—é–¥–∏ –≤ —á–∞—Ç–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ò–õ–ò –æ–Ω–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –¥—Ä—É–≥–∏–º —á–∞—Ç–∞–º
4. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Google Sheets (–ª–∏—Å—Ç "–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ/–õ–∏—à–Ω–∏–µ")
5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω—É —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∫–∞–∂–¥–æ–º—É —á–∞—Ç—É (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è)

**Whitelist:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ whitelist (—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏) –º–æ–≥—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ª—é–±—ã—Ö —á–∞—Ç–∞—Ö, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –Ω–∏–º
- –ò—Ö —Å–æ–æ–±—â–µ–Ω–∏—è –ù–ï –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–ø–∞–º
- –û–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ user_id –∏–∑ Google Sheets (–ª–∏—Å—Ç "Whitelist")

**–§–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞ –∞–¥–º–∏–Ω—É:**

```
üìä –û—Ç—á–µ—Ç –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —á–∞—Ç–∞: [–Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞]

‚ùå –õ–∏—à–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏:
- @username (ID: 123456)
- @username2 (ID: 789012)

‚ûï –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏:
- @username3 (ID: 345678)
```

### 2.4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

**–ö–∞–Ω–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

- –õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Direct Messages) –±–æ—Ç—É –æ—Ç –∞–¥–º–∏–Ω–∞
- Telegram ID –∞–¥–º–∏–Ω–∞ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ `.env`

**–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

1. **–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:**

```
‚ö†Ô∏è –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–ß–∞—Ç: [–Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞]
–ê–≤—Ç–æ—Ä: @username (ID: 123456)
–î–∞—Ç–∞: 02.02.2026 14:35

–¢–µ–∫—Å—Ç: [—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–ª–∏ "–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞): ..."]

–ü—Ä–∏—á–∏–Ω–∞: [–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç LLM]

üîó –°—Å—ã–ª–∫–∞: [—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ]
```

2. **–û—Ç—á–µ—Ç –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º** (—Ñ–æ—Ä–º–∞—Ç –≤—ã—à–µ)

**–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:**

- –û—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–Ω–µ –±–∞—Ç—á–∏—Ç—å)
- –ó–∞–¥–µ—Ä–∂–∫–∞ 1-2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (—á—Ç–æ–±—ã –Ω–µ —Ñ–ª—É–¥–∏—Ç—å)
- –û—Ç—á–µ—Ç—ã –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º - –æ–¥–∏–Ω —Å–≤–æ–¥–Ω—ã–π –Ω–∞ —á–∞—Ç

---

## 3. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê GOOGLE SHEETS

**–§–∞–π–ª:** –ï–¥–∏–Ω–∞—è Google –¢–∞–±–ª–∏—Ü–∞, –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Service Account (JSON –∫–ª—é—á)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–∏—Å—Ç–æ–≤:**

### –õ–∏—Å—Ç 1: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"

|–ü–∞—Ä–∞–º–µ—Ç—Ä|–ó–Ω–∞—á–µ–Ω–∏–µ|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|chat_ids|-100123456789, -100987654321|–°–ø–∏—Å–æ–∫ ID –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã—Ö —á–∞—Ç–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)|
|scan_interval_hours|6|–ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–≤ —á–∞—Å–∞—Ö)|
|max_messages_per_scan|1000|–ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–∞ —Ä–∞–∑|
|spam_topics|—Ä–µ–∫–ª–∞–º–∞, —É–≤–æ–ª—å–Ω–µ–Ω–∏–µ, –∑–∞—Ä–ø–ª–∞—Ç–∞|–¢–µ–º—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)|

### –õ–∏—Å—Ç 2: "–°–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö"

|username|user_id|full_name|allowed_chats|
|---|---|---|---|
|@ivanov|123456789|–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤|-100123456789, -100987654321|
|@petrov|987654321|–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤|-100123456789|

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `allowed_chats` - —Å–ø–∏—Å–æ–∫ ID —á–∞—Ç–æ–≤, –≥–¥–µ —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é). –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ –≤—Å–µ—Ö.

### –õ–∏—Å—Ç 3: "Whitelist"

|username|user_id|full_name|
|---|---|---|
|@director|111111111|–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä|
|@ceo|222222222|CEO|

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –ª—é–±—ã—Ö —á–∞—Ç–∞—Ö, –∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Å–ø–∞–º.

### –õ–∏—Å—Ç 4: "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è"

|timestamp|chat_name|chat_id|author_username|author_id|message_text|reason|message_link|
|---|---|---|---|---|---|---|---|
|2026-02-02 14:35:22|–û–±—â–∏–π —á–∞—Ç|-100123456789|@spammer|555555555|–ö—É–ø–∏—Ç–µ –∫—É—Ä—Å –ø–æ...|–†–µ–∫–ª–∞–º–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞|https://t.me/c/...|

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –õ–∏—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ (—Ä–∞–∑ –≤ 6 —á–∞—Å–æ–≤).

### –õ–∏—Å—Ç 5: "–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ/–õ–∏—à–Ω–∏–µ"

|timestamp|chat_name|chat_id|username|user_id|status|
|---|---|---|---|---|---|
|2026-02-02 14:35:22|–û–±—â–∏–π —á–∞—Ç|-100123456789|@newbie|666666666|–õ–∏—à–Ω–∏–π|
|2026-02-02 14:35:22|IT –æ—Ç–¥–µ–ª|-100987654321|@developer|777777777|–ù–µ–¥–æ—Å—Ç–∞—ë—Ç|

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –õ–∏—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏.

---

## 4. –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### 4.1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env —Ñ–∞–π–ª)

```env
# Telegram Bot
BOT_TOKEN=your_bot_token_here
ADMIN_TELEGRAM_ID=123456789

# Google Sheets
GOOGLE_SHEETS_ID=your_spreadsheet_id_here
GOOGLE_SERVICE_ACCOUNT_JSON=path/to/service_account.json

# CometAPI (–±—É–¥–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
COMET_API_KEY=your_comet_api_key
COMET_API_URL=https://api.comet.example.com/v1/chat

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É Google Sheets)
SCAN_INTERVAL_HOURS=6
MAX_MESSAGES_PER_SCAN=1000
```

### 4.2. –û—Å–Ω–æ–≤–Ω–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–¶–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ Google Sheets (chat_ids, spam_topics, max_messages, scan_interval)
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å whitelist –∏ —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏ –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º—ã—Ö —á–∞—Ç–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —á–∞—Å–æ–≤
4. –£–±—Ä–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ whitelist
5. –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ max_messages (–µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–æ - –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ)
6. –î–ª—è –≤—Å–µ—Ö –≥–æ–ª–æ—Å–æ–≤—ã—Ö: —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª ‚Üí —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —á–µ—Ä–µ–∑ Whisper ‚Üí –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ç–µ–∫—Å—Ç —Å –ø–æ–º–µ—Ç–∫–æ–π "–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞): ..."
7. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –í–ï–°–¨ –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ CometAPI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ —Å–ø–∞–º
8. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏—á–∏–Ω–∞–º–∏
9. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Google Sheets (–ª–∏—Å—Ç "–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è" - –æ—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å)
10. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é (–∑–∞–¥–µ—Ä–∂–∫–∞ 1-2 —Å–µ–∫)
11. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Å—Ç–∞–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤–æ –≤—Å–µ—Ö —á–∞—Ç–∞—Ö
12. –í—ã—è–≤–∏—Ç—å –ª–∏—à–Ω–∏—Ö –∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
13. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Google Sheets (–ª–∏—Å—Ç "–ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ/–õ–∏—à–Ω–∏–µ" - –æ—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å)
14. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç—ã –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –∞–¥–º–∏–Ω—É (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è)
15. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞

### 4.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–û–±—â–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –í–°–ï–• —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫:**

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
- Retry (1 —Ä–∞–∑)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ retry
- –ï—Å–ª–∏ retry –Ω–µ –ø–æ–º–æ–≥ - –ø—Ä–æ–ø—É—Å–∫, –æ–∂–∏–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏:**

1. **Google Sheets –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:** –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí retry ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–∏–∫–ª
2. **CometAPI –æ—à–∏–±–∫–∞:** –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí retry ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π
3. **Telegram API –æ—à–∏–±–∫–∞:** –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí retry ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Python logging
- –£—Ä–æ–≤–Ω–∏: DEBUG, INFO, WARNING, ERROR, CRITICAL
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å

### 4.4. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å APScheduler –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ü–∏–∫–ª–∞ –∫–∞–∂–¥—ã–µ N —á–∞—Å–æ–≤
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –±–µ—Ä–µ—Ç—Å—è –∏–∑ Google Sheets (–ª–∏—Å—Ç "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", –ø–∞—Ä–∞–º–µ—Ç—Ä scan_interval_hours)
- –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –Ω–µ –ø—Ä–æ–ø—É—â–µ–Ω –ª–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï—Å–ª–∏ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ - –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–≤ —Ñ–∞–π–ª –∏–ª–∏ –ë–î)

### 4.5. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏

**–ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**

- –ü—Ä–æ–≤–µ—Ä–∫–∞ 30 —á–∞—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —á–∞—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —á–∞—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1-2 —Å–µ–∫)

---

## 5. –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (LLM-FIRST –ü–û–î–•–û–î)

### 5.1. –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–í–µ—Å—å –∫–æ–¥ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ LLM:**

1. –†–∞–±–æ—Ç–∞ –≤–µ–¥–µ—Ç—Å—è –ø–æ—à–∞–≥–æ–≤–æ, –º–æ–¥—É–ª—å –∑–∞ –º–æ–¥—É–ª–µ–º
2. –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ docstring
3. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ, –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, edge cases, –ø—Ä–∏–º–µ—Ä—ã
4. –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è –ø–µ—Ä–µ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

### 5.2. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

**–í docstring:**

- –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- Args: –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Å —Ç–∏–ø–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- Returns: –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å —Ç–∏–ø–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- Edge cases: –≤—Å–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –∫–∞–∫ –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å
- Example: –º–∏–Ω–∏–º—É–º 1 –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–î–ª—è LLM-–∑–∞–ø—Ä–æ—Å–æ–≤ (–∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ CometAPI):**

- –¢–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM
- –§–æ—Ä–º–∞—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (JSON schema)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### 5.3. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å

**–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏:**

- –†–∞–±–æ—Ç–∞ —Å Google Sheets (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å)
- –†–∞–±–æ—Ç–∞ —Å CometAPI (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤)
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —á–∞—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–∞ —Å–ø–∞–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–æ–≤
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∞–¥–º–∏–Ω—É
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å:**

- –ò–º–µ–µ—Ç —á–µ—Ç–∫—É—é –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º –≤ LLM

## 6. –†–ò–°–ö–ò –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### 6.1. –†–∏—Å–∫–∏

1. **Rate limits –Ω–∞ CometAPI/Whisper:** –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, retry
2. **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ 1000 —Å–æ–æ–±—â–µ–Ω–∏–π:** —á–µ—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –ª–æ–≥–∞—Ö
3. **–õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è LLM:** –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ spam_topics
4. **–ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –≥–æ–ª–æ—Å–æ–≤—ã—Ö:** –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### 6.2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ú–∞–∫—Å–∏–º—É–º 1000 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –¥–ª–∏–Ω–µ
- Whitelist –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ
- –¢–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (–±–∞–Ω/–º—É—Ç)
- –û—Ç—á–µ—Ç—ã –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- Google Sheets - –µ–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –ë–î)
